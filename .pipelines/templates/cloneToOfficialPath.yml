# This Yaml Document has been converted by ESAI Yaml Pipeline Conversion Tool.
# Please make sure to check all the converted content, it is your team's responsibility to make sure that the pipeline is still valid and functions as expected.
parameters:
  nativePathRoot: ''
steps:
- powershell: |
    $dirSeparatorChar = [system.io.path]::DirectorySeparatorChar
    $nativePath = "${{parameters.nativePathRoot }}${dirSeparatorChar}PowerShell"
    Write-Host "##vso[task.setvariable variable=PowerShellRoot]$nativePath"
    if ((Test-Path "$nativePath")) {
      Remove-Item -Path "$nativePath" -Force -Recurse -Verbose -ErrorAction ignore
    }
    else {
      Write-Verbose -Verbose -Message "No cleanup required."
    }
    git clone --quiet $env:REPOROOT $nativePath
  displayName: Clone PowerShell Repo to /PowerShell
  errorActionPreference: silentlycontinue